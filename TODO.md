# 行业信息助手 - 项目优化清单

## 项目目标
构建一个工业级 AI Agent DeepResearch 项目，具备以下特点：
1. 技术深度足够让学生觉得非常牛逼
2. 工程结构完整，方便部署，支持一键启动

---

## 一、内容功能完善

### 1.1 对话历史管理
- [ ] 实现对话历史的持久化存储（MySQL/PostgreSQL）
- [ ] 支持对话历史列表展示和切换
- [ ] 支持对话重命名和删除
- [ ] 支持对话导出功能

### 1.2 行业资讯 API 集成
- [ ] 集成财经新闻 API
  - 推荐：新浪财经API、东方财富API、或 NewsAPI
  - 需要：API Key 申请
- [ ] 集成政策法规 API
  - 推荐：国家政策信息公开平台、政府公开数据接口
- [ ] 实现资讯自动抓取和更新机制
- [ ] 资讯内容结构化存储和检索

### 1.3 政策法规模块
- [ ] 对接政策法规数据源
- [ ] 实现按行业分类的政策检索
- [ ] 政策变更通知功能
- [ ] 政策解读 AI 分析

### 1.4 招投标信息模块
- [ ] 调研招投标信息 API
  - 推荐：中国政府采购网API、全国公共资源交易平台
  - 备选：第三方招投标数据服务商
- [ ] 实现招投标信息检索
- [ ] 招标公告智能解析
- [ ] 投标截止时间提醒

### 1.5 职业规划模块
- [ ] 调研职业数据 API
  - 脉脉 API（需商务合作）
  - Boss直聘 API（需商务合作）
  - 备选：LinkedIn API、猎聘数据
- [ ] 实现行业职业路径分析
- [ ] 职业技能匹配推荐
- [ ] 薪资趋势分析

---

## 二、知识库模块

### 2.1 本地知识库上传
- [ ] 左侧导航添加"知识库"入口
- [ ] 实现文件上传界面（支持拖拽）
- [ ] 支持多种文件格式：PDF、Word、Excel、TXT、Markdown

### 2.2 文档解析（阿里 DocMind）
- [ ] 集成阿里云 DocMind API
- [ ] 实现 PDF 智能解析（表格、图片、文本）
- [ ] 实现 Word/Excel 解析
- [ ] 文档结构化提取

### 2.3 向量存储（Milvus）
- [ ] 部署 Milvus 向量数据库
- [ ] 实现文档切分策略（基于语义/段落/标题）
- [ ] 文本向量化（text-embedding-v4）
- [ ] 向量入库和索引管理
- [ ] 实现增量更新和去重机制

### 2.4 附件上传功能
- [ ] 聊天界面添加附件上传按钮
- [ ] 上传文件解析并向量化
- [ ] 实现基于上传文档的专属问答
- [ ] 文档引用和来源标注

---

## 三、DeepResearch 算法优化

### 3.1 核心算法优化
- [ ] 优化 ReAct 决策循环
  - 改进任务规划器（Planner）
  - 增强工具选择策略
  - 优化反思器（Reflector）
- [ ] 实现多轮迭代深度搜索
- [ ] 智能子问题分解
- [ ] 信息综合与去重
- [ ] 答案质量评估机制

### 3.2 搜索引擎升级
- [ ] 接入 Bocha 搜索 API
- [ ] 实现多源搜索聚合
- [ ] 搜索结果智能排序
- [ ] 实现搜索缓存机制

### 3.3 图文混合结果
- [ ] 实现图片搜索和展示
- [ ] 支持图表生成（ECharts/Plotly）
- [ ] Markdown 渲染优化
- [ ] 图片来源标注和引用

### 3.4 数据分析工具
- [ ] 集成 Code Interpreter
  - Python 代码执行沙箱
  - 数据处理和计算
  - 图表生成
- [ ] 自动识别数据分析场景
- [ ] 数据可视化组件
- [ ] 分析结果导出

### 3.5 Text2SQL 工具
- [ ] 构建示例数据库（行业数据）
- [ ] 实现自然语言转 SQL
- [ ] SQL 执行和结果展示
- [ ] 数据库 Schema 管理

### 3.6 其他工具扩展
- [ ] 计算器工具（数学计算）
- [ ] 时间工具（日期计算）
- [ ] 翻译工具
- [ ] 天气查询工具
- [ ] 股票行情工具
- [ ] 汇率转换工具

---

## 四、Agent 长短期记忆系统

### 4.1 短期记忆（Redis）
- [ ] 对话上下文存储
- [ ] 工具调用中间结果缓存
- [ ] Session 管理
- [ ] 任务执行状态跟踪

### 4.2 长期记忆（Milvus）
- [ ] 设计记忆压缩策略
- [ ] 实现自动记忆总结
  - 当对话超过 10000 token 时触发
  - 提取核心洞察和知识点
  - 压缩存入向量数据库
- [ ] 记忆检索和召回
- [ ] 用户偏好学习
- [ ] 历史知识积累

### 4.3 记忆管理
- [ ] 记忆可视化界面
- [ ] 记忆导入导出
- [ ] 记忆清理功能

---

## 五、工程化要求

### 5.1 用户系统
- [ ] 登录页面
- [ ] 注册页面
- [ ] JWT Token 认证
- [ ] 用户信息管理
- [ ] 密码重置功能

### 5.2 Redis 集成
- [ ] 部署 Redis 服务
- [ ] 查询结果缓存
- [ ] Session 存储
- [ ] 限流和防刷
- [ ] 热点数据缓存

### 5.3 容器化部署
- [ ] 编写 Dockerfile（前端）
- [ ] 编写 Dockerfile（后端）
- [ ] 编写 docker-compose.yml
  - 前端服务
  - 后端服务
  - MySQL/PostgreSQL
  - Redis
  - Milvus
  - Elasticsearch（可选）
- [ ] 一键启动脚本
- [ ] 环境变量配置文件模板

### 5.4 其他工程优化
- [ ] API 文档（Swagger/OpenAPI）
- [ ] 日志系统（结构化日志）
- [ ] 错误处理和监控
- [ ] 健康检查接口
- [ ] 性能监控仪表盘
- [ ] 单元测试
- [ ] CI/CD 配置
- [ ] 部署文档

---

## 六、项目结构优化

### 6.1 后端结构
```
backend/
├── app/
│   ├── api/              # API 路由
│   ├── core/             # 核心配置
│   ├── models/           # 数据模型
│   ├── schemas/          # Pydantic Schema
│   ├── services/         # 业务逻辑
│   │   ├── agent/        # Agent 核心
│   │   ├── tools/        # 工具集
│   │   ├── memory/       # 记忆系统
│   │   └── rag/          # RAG 检索
│   └── utils/            # 工具函数
├── tests/                # 测试
├── Dockerfile
└── requirements.txt
```

### 6.2 前端结构
```
frontend/
├── src/
│   ├── api/              # API 调用
│   ├── components/       # 组件
│   ├── pages/            # 页面
│   ├── store/            # 状态管理
│   ├── hooks/            # 自定义 Hook
│   └── utils/            # 工具函数
├── Dockerfile
└── package.json
```

---

## 七、API Key 需求清单

| 服务 | 用途 | 申请地址 |
|------|------|----------|
| 阿里云 DashScope | LLM + Embedding | https://dashscope.console.aliyun.com/ |
| 阿里云 DocMind | 文档解析 | https://docmind.console.aliyun.com/ |
| Bocha 搜索 | 网页搜索 | https://www.bochaai.com/ |
| 新闻 API | 行业资讯 | 根据选择的服务商申请 |

---

## 八、优先级排序

### P0 - 核心功能（必须完成）
1. 对话历史管理
2. 知识库上传和检索
3. DeepResearch 算法优化
4. 长短期记忆系统
5. Docker 一键部署

### P1 - 重要功能（建议完成）
1. 登录注册系统
2. 附件上传
3. 图文混合结果
4. Redis 缓存
5. 数据分析可视化

### P2 - 扩展功能（有时间再做）
1. 行业资讯 API
2. 招投标信息
3. 职业规划模块
4. Text2SQL
5. 更多工具集成

---

## 九、时间规划建议

| 阶段 | 内容 | 预计时间 |
|------|------|----------|
| 阶段一 | 基础工程搭建（Docker、Redis、用户系统） | 1 周 |
| 阶段二 | 知识库模块（上传、解析、向量化） | 1 周 |
| 阶段三 | DeepResearch 算法优化 | 1-2 周 |
| 阶段四 | 记忆系统实现 | 1 周 |
| 阶段五 | 数据分析和可视化 | 1 周 |
| 阶段六 | 测试、优化、文档 | 1 周 |

---

## 十、技术栈总览

### 后端
- FastAPI（Web 框架）
- SQLAlchemy（ORM）
- Redis（缓存）
- Milvus（向量数据库）
- Elasticsearch（全文检索，可选）

### 前端
- React + TypeScript
- Ant Design（UI 组件）
- Valtio（状态管理）
- Axios（HTTP 请求）

### AI/ML
- 阿里云 DashScope（LLM）
- text-embedding-v4（向量化）
- DocMind（文档解析）

### 部署
- Docker + Docker Compose
- Nginx（反向代理）

---

*最后更新: 2024-12-23*
